<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador de Parábolas: Análisis de la Función Cuadrática</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Fira+Code&display=swap" rel="stylesheet">
    
    <script>
        MathJax = {
            tex: { inlineMath: [['\\(', '\\)']], displayMath: [['\\[', '\\]']] },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

    <style>
        :root {
            --bg-color: #f4f5f7;
            --surface-color: #ffffff;
            --border-color: #e2e8f0;
            --text-color: #4a5568;
            --heading-color: #1a202c;
            --accent-color: #4299e1;
            --accent-hover: #2b6cb0;
            --success-color: #48bb78;
            --warning-color: #ed8936;
            --error-color: #f56565;
            --shadow-color: rgba(0, 0, 0, 0.05);
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            font-size: 16px;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
        
        .site-header { text-align: center; padding: 2rem 0; }
        .site-header h1 { font-size: 2.8rem; color: var(--heading-color); margin-bottom: 0.5rem; }
        .site-header p { font-size: 1.1rem; color: var(--text-color); max-width: 650px; margin: 0 auto; }
        
        main { padding: 2rem 0; }
        
        .tabs { display: flex; border-bottom: 2px solid var(--border-color); margin-bottom: 2rem; }
        .tab-button { padding: 1rem 1.5rem; cursor: pointer; background: none; border: none; color: var(--text-color); font-size: 1rem; font-weight: 500; position: relative; transition: color 0.3s ease; }
        .tab-button::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 100%; height: 2px; background-color: var(--accent-color); transform: scaleX(0); transform-origin: center; transition: transform 0.3s ease; }
        .tab-button.active, .tab-button:hover { color: var(--accent-color); }
        .tab-button.active::after { transform: scaleX(1); }

        .tab-content { display: none; animation: fadeIn 0.5s ease-out; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .card { background-color: var(--surface-color); border: 1px solid var(--border-color); border-radius: 12px; padding: 2rem; box-shadow: 0 4px 15px var(--shadow-color); }
        h3 { color: var(--heading-color); margin-bottom: 1.5rem; font-size: 1.4rem; }
        
        .calculator-layout { display: grid; grid-template-columns: 380px 1fr; gap: 2rem; align-items: start; margin-bottom: 1.5rem; }
        .input-panel { position: sticky; top: 2rem; }
        .output-panel { display: flex; flex-direction: column; gap: 1.5rem; }
        
        .coefficients-list dt { font-weight: 500; margin-bottom: 0.5rem; }
        .coefficients-list dd { margin: 0 0 1.5rem 0; }
        .slider { width: 100%; cursor: pointer; }
        
        #currentEquation { font-family: 'Fira Code', monospace; background-color: var(--bg-color); padding: 1rem; border-radius: 8px; text-align: center; font-size: 1.1rem; border: 1px solid var(--border-color); min-height: 50px; }
        .math-display { margin: 1rem 0; text-align: center; overflow-x: auto; }
        .info-box { background-color: #ebf8ff; border-left: 4px solid var(--accent-color); padding: 1rem; margin-bottom: 1.5rem; border-radius: 8px; font-size: 0.95em; }
        
        .graph-card { padding: 1.5rem; }
        .dynamic-svg { width: 100%; height: auto; border-radius: 8px; background-color: #fafbfd; border: 1px solid var(--border-color); }
        
        .svg-axis { stroke: var(--heading-color); stroke-width: 1; }
        .svg-axis-name-label { font-size: 13px; fill: var(--heading-color); font-family: 'Inter', sans-serif; font-weight: 500; }
        .svg-axis-symmetry { stroke: var(--success-color); stroke-width: 1.5; stroke-dasharray: 4, 4; }
        .svg-axis-label { font-size: 10px; fill: var(--success-color); font-family: 'Fira Code', monospace; }
        .svg-curve { stroke: var(--accent-color); stroke-width: 2.5; fill: none; }
        .svg-point { stroke: var(--surface-color); stroke-width: 1.5; }
        .svg-root { fill: var(--error-color); }
        .svg-vertex { fill: var(--success-color); }
        .svg-y-intercept { fill: var(--accent-color); }
        .svg-label { font-size: 11px; font-weight: 500; font-family: 'Fira Code', monospace; }
        .svg-root-label, .svg-complex-label { fill: var(--error-color); }
        .svg-vertex-label { fill: var(--success-color); }
        .svg-y-intercept-label { fill: var(--accent-color); }

        .key-results { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; }
        .result-chip { background-color: var(--surface-color); border: 1px solid var(--border-color); border-left-width: 4px; padding: 0.75rem 1rem; border-radius: 8px; font-family: 'Fira Code', monospace; font-size: 0.95rem; text-align: center; }
        .result-chip.success { border-left-color: var(--success-color); }
        .result-chip.warning { border-left-color: var(--warning-color); }
        .result-chip.error { border-left-color: var(--error-color); }
        
        .btn-amplify { display: block; width: 100%; margin-top: 1rem; padding: 0.6rem; background-color: var(--accent-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 500; transition: background-color 0.2s; }
        .btn-amplify:hover { background-color: var(--accent-hover); }

        .accordion-item { border-bottom: 1px solid var(--border-color); }
        .accordion-item:last-child { border-bottom: none; }
        .accordion-button { display: flex; justify-content: space-between; align-items: center; width: 100%; padding: 1.5rem 0; background: none; border: none; color: var(--heading-color); font-size: 1.2rem; font-weight: 700; text-align: left; cursor: pointer; }
        .accordion-icon { transition: transform 0.3s ease; width: 24px; height: 24px; }
        .accordion-button[aria-expanded="true"] .accordion-icon { transform: rotate(180deg); }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out; }
        .accordion-content .content-inner { padding-top: 0.5rem; padding-bottom: 1.5rem; }

        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); display: none; align-items: center; justify-content: center; z-index: 1000; animation: fadeIn 0.3s ease; }
        .modal-overlay.active { display: flex; }
        .modal-content { background: var(--surface-color); padding: 2rem; border-radius: 12px; width: 90%; max-width: 850px; max-height: 90vh; box-shadow: 0 10px 30px rgba(0,0,0,0.2); position: relative; display: flex; flex-direction: column; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .modal-close-btn { background: none; border: none; font-size: 2rem; cursor: pointer; color: var(--text-color); }
        #modalGraphContainer { flex-grow: 1; min-height: 0; }
        
        .site-footer { text-align: center; padding: 2rem 1.5rem; margin-top: 2rem; font-size: 0.9em; color: var(--text-color); border-top: 1px solid var(--border-color); }
        .site-footer a { color: var(--accent-color); text-decoration: none; font-weight: 500; }

        @media (max-width: 992px) { .calculator-layout { grid-template-columns: 1fr; } .input-panel { position: static; } }
        @media (max-width: 768px) { .container { padding: 0 1rem; } .site-header h1 { font-size: 2.2rem; } .tabs { flex-wrap: wrap; gap: 0.5rem; } .tab-button { flex-basis: calc(50% - 0.25rem); } .card { padding: 1.5rem; } .modal-content { padding: 1rem; width: 95%; } }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <h1>Explorador de Parábolas</h1>
            <p>Análisis interactivo de la Función Cuadrática. Domina la parábola, desde sus raíces hasta su vértice.</p>
        </div>
    </header>

    <main class="container">
        <nav class="tabs">
            <button class="tab-button active" data-tab="calculator">Calculadora</button>
            <button class="tab-button" data-tab="theory">Teoría</button>
            <button class="tab-button" data-tab="history">Historia</button>
            <button class="tab-button" data-tab="examples">Ejemplos</button>
        </nav>

        <section id="calculator" class="tab-content active">
            <div class="calculator-layout">
                <div class="input-panel card">
                    <div class="info-box">
                        <strong>Función vs. Ecuación:</strong><br>
                        La <strong>función</strong> \(f(x) = ax^2+bx+c\), con \(a \neq 0\), describe la parábola. La <strong>ecuación</strong> \(ax^2+bx+c=0\) se usa para encontrar sus raíces.
                    </div>
                    <h3>Coeficientes de la Función</h3>
                    <div id="error-message-a" class="result-chip error" style="display:none; text-align:left; margin-bottom: 1rem;">El coeficiente 'a' no puede ser cero para una parábola.</div>
                    
                    <dl class="coefficients-list">
                        <dt><label for="sliderA">Coeficiente a: <span id="valueA">1.0</span></label></dt>
                        <dd><input type="range" id="sliderA" class="slider" min="-10" max="10" step="0.1" value="1"></dd>
                        
                        <dt><label for="sliderB">Coeficiente b: <span id="valueB">-2.0</span></label></dt>
                        <dd><input type="range" id="sliderB" class="slider" min="-10" max="10" step="0.1" value="-2"></dd>

                        <dt><label for="sliderC">Coeficiente c: <span id="valueC">-3.0</span></label></dt>
                        <dd><input type="range" id="sliderC" class="slider" min="-10" max="10" step="0.1" value="-3"></dd>
                    </dl>

                    <h3>Función Actual:</h3>
                    <div id="currentEquation"></div>
                </div>

                <div class="output-panel">
                    <div class="card graph-card">
                        <div id="dynamicGraphContainer"></div>
                        <button id="amplifyGraphBtn" class="btn-amplify">Ampliar Gráfico</button>
                    </div>
                    <div id="key-results-container" class="key-results">
                        <div id="discriminantDisplay" class="result-chip"></div>
                        <div id="rootsDisplay" class="result-chip"></div>
                        <div id="vertexDisplay" class="result-chip"></div>
                        <div id="yInterceptDisplay" class="result-chip"></div>
                        <div id="axisDisplay" class="result-chip"></div>
                    </div>
                </div>
            </div>
            <div class="info-box card" style="background-color: #f0fff4; border-color: var(--success-color);">
                <strong>Aclaración Didáctica:</strong> El término independiente <strong>c</strong> define la <strong>ordenada al origen</strong>. Esto ocurre porque al evaluar la función en \(x=0\), los términos con \(x\) se anulan (\(a \cdot 0^2 + b \cdot 0 = 0\)), dejando solo \(f(0) = c\). Gráficamente, es el punto de corte con el eje Y: \((0, c)\).
            </div>
        </section>
        
        <section id="theory" class="tab-content"></section>
        <section id="history" class="tab-content"></section>
        <section id="examples" class="tab-content"></section>
    </main>

    <div id="graphModal" class="modal-overlay">
        <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modal-title">
            <div class="modal-header">
                <h2 id="modal-title">Gráfico Detallado</h2>
                <button class="modal-close-btn" aria-label="Cerrar">&times;</button>
            </div>
            <div id="modalGraphContainer"></div>
        </div>
    </div>
    
    <footer class="site-footer">
        <div class="container">
            <p>Recurso educativo desarrollado por Santiago Fiore. Más contenidos en: <a href="https://sites.google.com/view/santiago-fiore/portada" target="_blank" rel="noopener noreferrer">https://sites.google.com/view/santiago-fiore/portada</a></p>
        </div>
    </footer>

    <script>
        const ParabolaExplorer = (() => {
            const state = { a: 1, b: -2, c: -3, solution: {} };
            const EPSILON = 1e-9;

            const DOM = {
                tabsContainer: document.querySelector('.tabs'),
                tabContents: document.querySelectorAll('.tab-content'),
                tabButtons: document.querySelectorAll('.tab-button'),
                sliders: { a: document.getElementById('sliderA'), b: document.getElementById('sliderB'), c: document.getElementById('sliderC'), },
                valueSpans: { a: document.getElementById('valueA'), b: document.getElementById('valueB'), c: document.getElementById('valueC'), },
                errorMessageA: document.getElementById('error-message-a'),
                currentEquation: document.getElementById('currentEquation'),
                dynamicGraphContainer: document.getElementById('dynamicGraphContainer'),
                keyResultsContainer: document.getElementById('key-results-container'),
                discriminantDisplay: document.getElementById('discriminantDisplay'),
                rootsDisplay: document.getElementById('rootsDisplay'),
                vertexDisplay: document.getElementById('vertexDisplay'),
                yInterceptDisplay: document.getElementById('yInterceptDisplay'),
                axisDisplay: document.getElementById('axisDisplay'),
                modal: document.getElementById('graphModal'),
                modalGraphContainer: document.getElementById('modalGraphContainer'),
                amplifyGraphBtn: document.getElementById('amplifyGraphBtn'),
                modalCloseBtn: document.querySelector('.modal-close-btn'),
            };

            function solveQuadratic(a, b, c) {
                const discriminant = b*b - 4*a*c;
                const vertex = { x: -b / (2*a), y: a*(-b/(2*a))**2 + b*(-b/(2*a)) + c };
                const results = { a, b, c, discriminant, vertex, y_intercept: c, roots: [], complex_roots: [] };
                
                if (discriminant > EPSILON) {
                    const sqrt_d = Math.sqrt(discriminant);
                    results.roots.push((-b - sqrt_d) / (2*a), (-b + sqrt_d) / (2*a));
                } else if (Math.abs(discriminant) < EPSILON) {
                    results.roots.push(-b / (2*a));
                } else {
                    const sqrt_d_abs = Math.sqrt(Math.abs(discriminant));
                    results.complex_roots.push({ real: -b / (2*a), imag: sqrt_d_abs / (2*a) });
                }
                return results;
            }

            function renderEquation() {
                const { a, b, c } = state;
                const format = (v, t, f) => {
                    if (Math.abs(v) < EPSILON) return '';
                    const s = f ? (v < 0 ? '-' : '') : (v < 0 ? ' - ' : ' + ');
                    const av = Math.abs(v);
                    const n = av.toFixed(1).replace(/\.0$/, '');
                    return (Math.abs(av - 1) < EPSILON && t) ? `${s}${t}` : `${s}${n}${t}`;
                };
                DOM.currentEquation.innerHTML = `\\[f(x) = ${(format(a, 'x^2', true) + format(b, 'x', false) + format(c, '', false)).trim()}\\]`;
            }
            
            function renderResults() {
                const { discriminant, roots, complex_roots, vertex, y_intercept } = state.solution;
                const discClass = discriminant > EPSILON ? 'success' : Math.abs(discriminant) < EPSILON ? 'warning' : 'error';
                DOM.discriminantDisplay.className = `result-chip ${discClass}`;
                DOM.discriminantDisplay.innerHTML = `<strong>Δ:</strong> \\(${discriminant.toFixed(2)}\\)`;
                
                let rootsHTML = '<strong>Raíces:</strong> ';
                let rootsClass = 'result-chip ';
                if (roots.length === 2) {
                    rootsHTML += `\\(x_1 = ${roots[0].toFixed(2)}, x_2 = ${roots[1].toFixed(2)}\\)`;
                    rootsClass += 'success';
                } else if (roots.length === 1) {
                    rootsHTML += `\\(x_1 = x_2 = ${roots[0].toFixed(2)}\\)`;
                    rootsClass += 'warning';
                } else {
                    rootsHTML += `\\(${complex_roots[0].real.toFixed(2)} \\pm ${Math.abs(complex_roots[0].imag).toFixed(2)}i\\)`;
                    rootsClass += 'error';
                }
                DOM.rootsDisplay.innerHTML = rootsHTML;
                DOM.rootsDisplay.className = rootsClass;

                DOM.vertexDisplay.innerHTML = `<strong>Vértice:</strong> \\((${vertex.x.toFixed(2)}, ${vertex.y.toFixed(2)})\\)`;
                DOM.yInterceptDisplay.innerHTML = `<strong>Ord. Origen:</strong> \\((0, ${y_intercept.toFixed(2)})\\)`;
                DOM.axisDisplay.innerHTML = `<strong>Eje Simetría:</strong> \\(x = ${vertex.x.toFixed(2)}\\)`;
            }

            function renderGraph(container, options = {}) {
                const { a, b, c, solution } = state;
                const { width = 500, height = 400, padding: P = 45 } = options;
                const { roots, vertex, y_intercept } = solution;
                const f = x => a*x**2 + b*x + c;

                const importantX = [...roots, vertex.x, 0];
                const maxAbsX = Math.max(...importantX.map(Math.abs).filter(isFinite));
                const xBound = Math.max(5, maxAbsX * 1.4);
                const x_min = -xBound, x_max = xBound;
                
                const importantY = [vertex.y, y_intercept, f(x_min), f(x_max)];
                const maxAbsY = Math.max(...importantY.map(Math.abs).filter(isFinite));
                const yBound = Math.max(5, maxAbsY * 1.2);
                const y_min = -yBound, y_max = yBound;

                const plot_points = [];
                for (let i = 0; i <= 200; i++) {
                    const x = x_min + i * (x_max - x_min) / 200;
                    plot_points.push({x, y: f(x)});
                }

                const mapX = x => P + (x - x_min) / (x_max - x_min) * (width - 2 * P);
                const mapY = y => (height - P) - (y - y_min) / (y_max - y_min) * (height - 2 * P);
                
                let svg = `<svg viewBox="0 0 ${width} ${height}" class="dynamic-svg" role="img" aria-label="Gráfico interactivo de la parábola y sus puntos notables.">`;
                const originX = mapX(0), originY = mapY(0);
                
                svg += `<line class="svg-axis" x1="${originX}" y1="${P}" x2="${originX}" y2="${height-P}"/>`;
                svg += `<line class="svg-axis" x1="${P}" y1="${originY}" x2="${width-P}" y2="${originY}"/>`;
                
                svg += `<text class="svg-axis-name-label" x="${width - P}" y="${originY - 8}" text-anchor="end">X</text>`;
                svg += `<text class="svg-axis-name-label" x="${originX + 8}" y="${P + 10}" text-anchor="start">Y</text>`;
                
                const axisX = mapX(vertex.x);
                svg += `<line class="svg-axis-symmetry" x1="${axisX}" y1="${P}" x2="${axisX}" y2="${height-P}"/>`;
                svg += `<text class="svg-axis-label" x="${axisX + 5}" y="${P + 12}">Eje</text>`;
                
                svg += `<path class="svg-curve" d="${plot_points.map((p, i) => `${i === 0 ? 'M' : 'L'} ${mapX(p.x)} ${mapY(p.y)}`).join(' ')}"/>`;
                
                roots.forEach((r, i) => {
                    const yOffset = i % 2 === 0 ? 18 : -10;
                    svg += `<circle class="svg-point svg-root" cx="${mapX(r)}" cy="${originY}" r="5"/>
                            <text class="svg-label svg-root-label" x="${mapX(r)}" y="${originY + yOffset}" text-anchor="middle">(${r.toFixed(2)}, 0)</text>`;
                });
                
                const vx = mapX(vertex.x), vy = mapY(vertex.y);
                svg += `<circle class="svg-point svg-vertex" cx="${vx}" cy="${vy}" r="5"/>
                        <text class="svg-label svg-vertex-label" x="${vx}" y="${vy + (a > 0 ? 20 : -10)}" text-anchor="middle">V(${vertex.x.toFixed(2)}, ${vertex.y.toFixed(2)})</text>`;
                
                const yIntX = mapX(0), yIntY = mapY(y_intercept);
                const yIntLabelAnchor = (vertex.x > 0 && Math.abs(vertex.x) > 1) ? 'end' : 'start';
                const yIntLabelXOffset = (vertex.x > 0 && Math.abs(vertex.x) > 1) ? -8 : 8;
                svg += `<circle class="svg-point svg-y-intercept" cx="${yIntX}" cy="${yIntY}" r="5"/>
                        <text class="svg-label svg-y-intercept-label" x="${yIntX + yIntLabelXOffset}" y="${yIntY + 4}" text-anchor="${yIntLabelAnchor}">(0, ${y_intercept.toFixed(2)})</text>`;
                svg += `</svg>`;
                container.innerHTML = svg;
            }

            function updateUI() {
                if (Math.abs(state.a) < EPSILON) {
                    DOM.errorMessageA.style.display = 'block';
                    DOM.dynamicGraphContainer.innerHTML = '';
                    DOM.keyResultsContainer.style.visibility = 'hidden';
                    return;
                }
                DOM.errorMessageA.style.display = 'none';
                DOM.keyResultsContainer.style.visibility = 'visible';
                
                state.solution = solveQuadratic(state.a, state.b, state.c);
                renderEquation();
                renderResults();
                renderGraph(DOM.dynamicGraphContainer);
                
                if (window.MathJax?.typesetPromise) MathJax.typesetPromise();
            }

            function handleSliderInput(coeff, value) {
                state[coeff] = value;
                DOM.valueSpans[coeff].textContent = value.toFixed(1);
                requestAnimationFrame(updateUI);
            }

            function showTab(tabName) {
                DOM.tabContents.forEach(el => el.classList.remove('active'));
                DOM.tabButtons.forEach(el => el.classList.remove('active'));
                document.getElementById(tabName).classList.add('active');
                document.querySelector(`.tab-button[data-tab="${tabName}"]`).classList.add('active');
            }

            function initialize() {
                Object.keys(DOM.sliders).forEach(coeff => {
                    DOM.sliders[coeff].addEventListener('input', (e) => handleSliderInput(coeff.toLowerCase(), parseFloat(e.target.value)));
                });
                DOM.tabsContainer.addEventListener('click', (e) => {
                    const button = e.target.closest('.tab-button');
                    if (button) showTab(button.dataset.tab);
                });
                DOM.amplifyGraphBtn.addEventListener('click', () => {
                    DOM.modal.classList.add('active');
                    renderGraph(DOM.modalGraphContainer, { width: 800, height: 600, padding: 50 });
                });
                const closeModal = () => DOM.modal.classList.remove('active');
                DOM.modalCloseBtn.addEventListener('click', closeModal);
                DOM.modal.addEventListener('click', (e) => { if (e.target === DOM.modal) closeModal(); });
                document.addEventListener('keydown', (e) => { if (e.key === "Escape" && DOM.modal.classList.contains('active')) closeModal(); });
                
                fillStaticContent();
                updateUI();
            }

            function fillStaticContent() {
                const createAccordionItem = (item) => `<div class="accordion-item"><button class="accordion-button" aria-expanded="false"><span>${item.title}</span><svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" /></svg></button><div class="accordion-content"><div class="content-inner">${item.content}</div></div></div>`;
                const theoryData = [ { title: '1. Forma Polinómica', content: `<p>La función cuadrática se expresa como \\( f(x) = ax^2 + bx + c \\), donde \\(a, b, c\\) son coeficientes reales y \\(a \\neq 0\\). Su gráfica es una parábola.</p>` }, { title: '2. El Discriminante', content: `<p>El discriminante, \\(\\Delta = b^2 - 4ac\\), determina la naturaleza de las raíces de la ecuación \\(ax^2+bx+c=0\\):</p><ul><li><b>\\(\\Delta > 0\\)</b>: Dos raíces reales y distintas. La parábola corta el eje X en dos puntos.</li><li><b>\\(\\Delta = 0\\)</b>: Una raíz real doble. La parábola toca el eje X en su vértice.</li><li><b>\\(\\Delta < 0\\)</b>: Dos raíces complejas conjugadas. La parábola no corta el eje X.</li></ul>`}, { title: '3. Fórmula Resolvente (Bhaskara)', content: `<p>Las raíces (o ceros) de la función se encuentran usando la fórmula general:</p><div class="math-display">\\[x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}\\]</div>`}, { title: '4. Vértice y Eje de Simetría', content: `<p>El vértice es el punto mínimo (si \\(a>0\\)) o máximo (si \\(a<0\\)) de la parábola. Sus coordenadas son:</p><div class="math-display">\\[ V = \\left( -\\frac{b}{2a}, f\\left(-\\frac{b}{2a}\\right) \\right) \\]</div><p>La línea vertical \\(x = -b/2a\\) es el eje de simetría.</p>`}, { title: '5. Ordenada al Origen', content: `<p>El término independiente <strong>c</strong> define la <strong>ordenada al origen</strong>. Ocurre al evaluar \\(f(0) = c\\). Gráficamente, es el punto de corte con el eje Y: \\((0, c)\\).</p>`}, { title: '6. Demostración de la Fórmula Resolvente', content: `<p>Se deduce completando el cuadrado:</p><ol><li>Partir de \\(ax^2+bx+c=0\\).</li><li>Multiplicar por \\(4a\\): \\(4a^2x^2+4abx = -4ac\\).</li><li>Sumar \\(b^2\\): \\(4a^2x^2+4abx+b^2 = b^2-4ac\\).</li><li>Factorizar: \\((2ax+b)^2 = b^2-4ac\\).</li><li>Aplicar raíz: \\(2ax+b = \\pm\\sqrt{b^2-4ac}\\).</li><li>Despejar \\(x\\): \\(x = \\frac{-b \\pm\\sqrt{b^2-4ac}}{2a}\\).</li></ol>`} ];
                document.getElementById('theory').innerHTML = `<div class="card"><h3>Fundamentos de la Función Cuadrática</h3>${theoryData.map(createAccordionItem).join('')}</div>`;
                document.getElementById('history').innerHTML = `<div class="card"><h3>Breve Historia de la Ecuación Cuadrática</h3><p>La búsqueda de soluciones a ecuaciones cuadráticas es milenaria, abarcando civilizaciones como los <b>Babilonios</b> (c. 2000 a.C.) con métodos de "completar el cuadrado", los <b>Griegos</b> (c. 300 a.C.) con enfoques geométricos, <b>Brahmagupta</b> en India (c. 628 d.C.) aportando reglas generales, <b>Al-Khwarizmi</b> en el mundo islámico (c. 820 d.C.) sistematizando los algoritmos, y <b>Bhaskara II</b> (c. 1150 d.C.) reconociendo explícitamente la existencia de dos raíces.</p></div>`;
                const examplesData = [ { title: 'Ejemplo 1: Dos Raíces Reales (\\(\\Delta > 0\\))', content: `<p><b>Ecuación:</b> \\(x^2 - 2x - 3 = 0\\)</p><p><b>Análisis:</b> \\(\\Delta = (-2)^2 - 4(1)(-3) = 16 > 0\\). Raíces \\(x_1 = -1, x_2 = 3\\).</p><p><em>(Pruebe con a=1, b=-2, c=-3)</em></p>`}, { title: 'Ejemplo 2: Una Raíz Doble (\\(\\Delta = 0\\))', content: `<p><b>Ecuación:</b> \\(x^2 - 4x + 4 = 0\\)</p><p><b>Análisis:</b> \\(\\Delta = (-4)^2 - 4(1)(4) = 0\\). Raíz doble \\(x = 2\\).</p><p><em>(Pruebe con a=1, b=-4, c=4)</em></p>`}, { title: 'Ejemplo 3: Raíces Complejas (\\(\\Delta < 0\\))', content: `<p><b>Ecuación:</b> \\(x^2 + 2x + 5 = 0\\)</p><p><b>Análisis:</b> \\(\\Delta = (2)^2 - 4(1)(5) = -16 < 0\\). Raíces complejas \\(x = -1 \\pm 2i\\).</p><p><em>(Pruebe con a=1, b=2, c=5)</em></p>`} ];
                document.getElementById('examples').innerHTML = `<div class="card"><h3>Ejemplos Resueltos</h3>${examplesData.map(createAccordionItem).join('')}</div>`;
                document.querySelectorAll('.accordion-button').forEach(button => { button.addEventListener('click', () => { const content = button.nextElementSibling; const isExpanded = button.getAttribute('aria-expanded') === 'true'; button.setAttribute('aria-expanded', String(!isExpanded)); content.style.maxHeight = !isExpanded ? content.scrollHeight + 'px' : '0px'; }); });
            }
            
            return { init: initialize };
        })();

        document.addEventListener('DOMContentLoaded', ParabolaExplorer.init);
    </script>
</body>
</html>